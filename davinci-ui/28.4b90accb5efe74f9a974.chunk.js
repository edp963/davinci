(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{c34cbdacd57d43e25393:function(e,t,a){"use strict";a.r(t),a.d(t,"RichTextEditor",function(){return K});a("c099c4fc48cd9bb84110");var n=a("21700e306353b2e19c0b"),r=a.n(n),l=(a("e19205557bb71c52af9f"),a("ecb09fa8e73d7235d766")),c=a.n(l),o=(a("430efd9ee93fab5ea3aa"),a("ab77426700a64afb515f")),i=a.n(o),s=(a("b28d1f103e4a5b2e8ef8"),a("55f6171b5a254025824d")),u=a.n(s),f=(a("5541b6cefe476e08228d"),a("39393313d245b2ab26c0")),b=a.n(f),m=(a("0205cc8feb741eb7f5d6"),a("3af481c1b0e9bc0eb2ac")),d=a.n(m),p=a("8af190b70a6bc55c6f1b"),y=a.n(p),h=a("39cfa8d28d359880bfeb"),v=a.n(h),E=a("cc9297df5ec109415ca0"),w=a.n(E),g=(a("b4b7fef43c53aa16a2d7"),a("360199e61df61d70683e"),a("2c18c70a21c1ec599654"));function N(e){return(N="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,r=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(e){r=!0,l=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function k(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var x=d.a.Item,P=a("ff6b1a6abfddde8173f8"),_=y.a.createElement(d.a,null,y.a.createElement(x,null,"\u6682\u65e0\u53ef\u7528\u5b57\u6bb5")),z=y.a.createElement("select",{className:"ql-font"}),T=y.a.createElement("button",{className:"ql-bold"}),Q=y.a.createElement("button",{className:"ql-italic"}),I=y.a.createElement("button",{className:"ql-underline"}),R=y.a.createElement("button",{className:"ql-strike"}),V=y.a.createElement("select",{className:"ql-color"}),F=y.a.createElement("select",{className:"ql-background"}),B=y.a.createElement("button",{className:"ql-list",value:"ordered"}),A=y.a.createElement("button",{className:"ql-list",value:"bullet"}),J=y.a.createElement("select",{className:"ql-align"}),D=y.a.createElement("button",{className:"ql-link"}),L=y.a.createElement("button",{className:"ql-image"}),G=y.a.createElement("button",{className:"ql-clean"}),H=y.a.createElement(r.a,{type:"select"}),K=function(e){function t(e){var a,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=S(t).call(this,e),a=!r||"object"!==N(r)&&"function"!==typeof r?O(n):r,C(O(a),"reactQuill",y.a.createRef()),C(O(a),"state",{previewVisible:!1}),C(O(a),"toolbarId","react_quill_".concat((new Date).getTime())),C(O(a),"modules",{toolbar:{container:"#".concat(a.toolbarId)},imageResize:{displaySize:!0}}),C(O(a),"headerChange",function(e){e.persist()}),C(O(a),"selectField",function(e){return function(){var t=q(a.props.fieldBoundaries,2),n=t[0],r=t[1],l=a.reactQuill.current.getEditor(),c=l.getSelection(),o=c?c.index:0,i="".concat(n).concat(e).concat(r);l.insertText(o,i),l.setSelection(o,i.length)}}),C(O(a),"openPreview",function(){a.setState({previewVisible:!0})}),C(O(a),"closePreview",function(){a.setState({previewVisible:!1})});var l=h.Quill.import("attributors/style/size");return l.whitelist=e.fontSizes.map(function(e){return"".concat(e,"px")}),h.Quill.register(l,!0),h.Quill.register("modules/imageResize",w.a),a}var a,n,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,y.a.Component),a=t,(n=[{key:"render",value:function(){var e=this,t=this.props,a=t.content,n=t.onChange,r=t.fontSizes,l=t.mapFields,o=t.data,s=t.fieldBoundaries,f=this.state.previewVisible,m=Object.keys(l).length?y.a.createElement(d.a,null,Object.keys(l).map(function(t){return y.a.createElement(x,{key:t},y.a.createElement("a",{href:"javascript:void(0)",onClick:e.selectField(t)},t))})):_;return y.a.createElement("div",{className:P.editor},y.a.createElement("div",{id:this.toolbarId},y.a.createElement("select",{className:"ql-header",onChange:this.headerChange}),z,y.a.createElement("select",{className:"ql-size",defaultValue:"13px"},r.map(function(e){return y.a.createElement("option",{value:"".concat(e,"px"),key:e},"".concat(e,"px"))})),T,Q,I,R,V,F,B,A,J,D,L,G,y.a.createElement(b.a,{overlay:m},y.a.createElement("a",{className:P.selectLink},H))),y.a.createElement(v.a,{ref:this.reactQuill,className:P.quill,value:a,modules:this.modules,theme:"snow",onChange:n}),y.a.createElement(i.a,{type:"flex",align:"middle",justify:"end",style:{paddingTop:16}},y.a.createElement(u.a,{onClick:this.openPreview,type:"primary"},"\u9884\u89c8")),y.a.createElement(c.a,{title:"\u5bcc\u6587\u672c\u9884\u89c8",wrapClassName:"ant-modal-large",visible:f,footer:null,onCancel:this.closePreview},y.a.createElement(g.a,{content:a,fieldBoundaries:s,data:o,mapFields:l})))}}])&&k(a.prototype,n),r&&k(a,r),t}();t.default=K}}]);