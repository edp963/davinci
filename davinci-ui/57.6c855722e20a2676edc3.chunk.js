(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{c34cbdacd57d43e25393:function(e,t,a){"use strict";a.r(t),a.d(t,"RichTextEditor",function(){return B});a("e803f7813440d08f751a");var n=a("8417e7e7c48584b19c37"),r=(a("ff517e0a0f891807c838"),a("de092bf146ddcde47746")),l=(a("0faeb8f819c516b9715b"),a("70fc35ebabf20c0c9bd9")),c=(a("34eeb0d3033f919e494a"),a("2688cdc98aed61204a0c")),o=(a("8384f433e2fbf8c1e335"),a("3818add0c9bac61df642")),i=(a("c8e134b92bdff32b38c0"),a("2908b30917805c6fbf09")),s=a("8af190b70a6bc55c6f1b"),u=a.n(s),f=a("39cfa8d28d359880bfeb"),b=a.n(f),m=a("cc9297df5ec109415ca0"),d=a.n(m),p=(a("b4b7fef43c53aa16a2d7"),a("360199e61df61d70683e"),a("2c18c70a21c1ec599654"));function y(e){return(y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],n=!0,r=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(e){r=!0,l=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function v(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var q=i.a.Item,S=a("ff6b1a6abfddde8173f8"),j=u.a.createElement(i.a,null,u.a.createElement(q,null,"\u6682\u65e0\u53ef\u7528\u5b57\u6bb5")),O=u.a.createElement("select",{className:"ql-font"}),k=u.a.createElement("button",{className:"ql-bold"}),C=u.a.createElement("button",{className:"ql-italic"}),x=u.a.createElement("button",{className:"ql-underline"}),P=u.a.createElement("button",{className:"ql-strike"}),_=u.a.createElement("select",{className:"ql-color"}),z=u.a.createElement("select",{className:"ql-background"}),T=u.a.createElement("button",{className:"ql-list",value:"ordered"}),Q=u.a.createElement("button",{className:"ql-list",value:"bullet"}),I=u.a.createElement("select",{className:"ql-align"}),R=u.a.createElement("button",{className:"ql-link"}),V=u.a.createElement("button",{className:"ql-image"}),F=u.a.createElement("button",{className:"ql-clean"}),A=u.a.createElement(n.a,{type:"select"}),B=function(e){function t(e){var a,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=E(t).call(this,e),a=!r||"object"!==y(r)&&"function"!==typeof r?w(n):r,N(w(a),"reactQuill",u.a.createRef()),N(w(a),"state",{previewVisible:!1}),N(w(a),"toolbarId","react_quill_".concat((new Date).getTime())),N(w(a),"modules",{toolbar:{container:"#".concat(a.toolbarId)},imageResize:{displaySize:!0}}),N(w(a),"headerChange",function(e){e.persist()}),N(w(a),"selectField",function(e){return function(){var t=h(a.props.fieldBoundaries,2),n=t[0],r=t[1],l=a.reactQuill.current.getEditor(),c=l.getSelection(),o=c?c.index:0,i="".concat(n).concat(e).concat(r);l.insertText(o,i),l.setSelection(o,i.length)}}),N(w(a),"openPreview",function(){a.setState({previewVisible:!0})}),N(w(a),"closePreview",function(){a.setState({previewVisible:!1})});var l=f.Quill.import("attributors/style/size");return l.whitelist=e.fontSizes.map(function(e){return"".concat(e,"px")}),f.Quill.register(l,!0),f.Quill.register("modules/imageResize",d.a),a}var a,n,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,u.a.Component),a=t,(n=[{key:"render",value:function(){var e=this,t=this.props,a=t.content,n=t.onChange,s=t.fontSizes,f=t.mapFields,m=t.data,d=t.fieldBoundaries,y=this.state.previewVisible,h=Object.keys(f).length?u.a.createElement(i.a,null,Object.keys(f).map(function(t){return u.a.createElement(q,{key:t},u.a.createElement("a",{href:"javascript:void(0)",onClick:e.selectField(t)},t))})):j;return u.a.createElement("div",{className:S.editor},u.a.createElement("div",{id:this.toolbarId},u.a.createElement("select",{className:"ql-header",onChange:this.headerChange}),O,u.a.createElement("select",{className:"ql-size",defaultValue:"13px"},s.map(function(e){return u.a.createElement("option",{value:"".concat(e,"px"),key:e},"".concat(e,"px"))})),k,C,x,P,_,z,T,Q,I,R,V,F,u.a.createElement(o.a,{overlay:h},u.a.createElement("a",{className:S.selectLink},A))),u.a.createElement(b.a,{ref:this.reactQuill,className:S.quill,value:a,modules:this.modules,theme:"snow",onChange:n}),u.a.createElement(l.a,{type:"flex",align:"middle",justify:"end",style:{paddingTop:16}},u.a.createElement(c.a,{onClick:this.openPreview,type:"primary"},"\u9884\u89c8")),u.a.createElement(r.a,{title:"\u5bcc\u6587\u672c\u9884\u89c8",wrapClassName:"ant-modal-large",visible:y,footer:null,onCancel:this.closePreview},u.a.createElement(p.a,{content:a,fieldBoundaries:d,data:m,mapFields:f})))}}])&&v(a.prototype,n),s&&v(a,s),t}();t.default=B}}]);